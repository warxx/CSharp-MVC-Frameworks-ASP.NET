@model CarDealer.Models.ViewModels.SaleReviewVm
@{
    ViewBag.Title = "Review Sale";
}
@functions{

    public double? Substract(double? numberOne, double? numberTwo)
    {
        return numberOne - numberTwo;
    }
}

<h2>Review Sale</h2>

<form method="post" class="form-horizontal">
    <input type="number" hidden="hidden" value="@Model.CustomerId" name="customerId" />
    <input type="number" hidden="hidden" value="@Model.CarId" name="carId" />
    <input type="number" hidden="hidden" value="@Model.Discount" name="discount" />
    <div class="form-group">
        <label for="customer" class="col-sm-2 control-label">Customer: </label>
        <div class="col-sm-10">
            <input id="customer" type="text" class="form-control" value="@Model.CustomerName" readonly style="text-align: center"/>
        </div>
    </div>
    <div class="form-group">
        <label for="car" class="col-sm-2 control-label">Car: </label>
        <div class="col-sm-10">
            <input id="car" type="text" class="form-control" value="@Model.CarName" readonly style="text-align: center"/>
        </div>
    </div>
    <div class="form-group">
        <label for="discount" class="col-sm-2 control-label">Discount: </label>
        <div class="col-sm-10">
            @if (!Model.IsYoungDriver)
            {
                <input id="discount" type="text" class="form-control" value="@Model.Discount%" readonly style="text-align: center"/>
            }
            else
            {
                <input id="discount" type="text" class="form-control" value="@Substract(Model.Discount, 5)% (+5%)" readonly style="text-align: center" />
            }
        </div>
    </div>
    <div class="form-group">
        <label for="carPrice" class="col-sm-2 control-label">Car Price: </label>
        <div class="col-sm-10">
            <input id="carPrice" type="text" class="form-control" value="@Model.CarPrice" readonly style="text-align: center"/>
        </div>
    </div>
    <div class="form-group">
        <label for="finalCarPrice" class="col-sm-2 control-label">Final Car Price: </label>
        <div class="col-sm-10">
            <input id="finalCarPrice" type="text" class="form-control" value="@Model.FinalCarPrice" readonly style="text-align: center"/>
        </div>
    </div>
    <div class="form-group">
        <div class="row">
            <div class="col-sm-offset-3">
                <a href="/sales/" class="btn btn-default">Cancel</a>
                <input class="btn btn-info" type="submit" value="Finalize" style="margin-left: 20px"/>
            </div>
        </div>      
    </div>
</form>

